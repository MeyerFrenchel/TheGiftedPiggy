---
import { Image } from "astro:assets";
import Button from "@components/ui/Button.astro";
import { useTranslations } from "@i18n/utils";
import { siteConfig } from "@data/site-config";
import type { Lang } from "@i18n/ui";
import heroImage from "@assets/images/hero/hero-artist.jpg";

interface Props {
  lang?: Lang;
}

const { lang = "ro" } = Astro.props;
const t = useTranslations(lang);
---

<section
  class="relative overflow-hidden py-16 md:py-24"
  style="background: #faf8ff;"
  aria-label="Hero"
>
  <!-- ===== WATERCOLOR BACKGROUND ===== -->
  <div class="pointer-events-none absolute inset-0 overflow-hidden" aria-hidden="true">

    <!-- SVG filter: paper grain texture -->
    <svg class="absolute h-0 w-0">
      <defs>
        <filter id="wc-grain" x="0%" y="0%" width="100%" height="100%">
          <feTurbulence type="fractalNoise" baseFrequency="0.72" numOctaves="4" stitchTiles="stitch" result="noise"/>
          <feColorMatrix type="saturate" values="0" in="noise" result="grayNoise"/>
          <feBlend in="SourceGraphic" in2="grayNoise" mode="multiply" result="blended"/>
          <feComponentTransfer in="blended">
            <feFuncA type="linear" slope="1"/>
          </feComponentTransfer>
        </filter>
      </defs>
    </svg>

    <!-- Blue pool ‚Äî top left -->
    <div
      class="absolute rounded-full"
      style="
        width: 560px; height: 520px;
        top: -120px; left: -100px;
        background: radial-gradient(ellipse, #93c5fd 0%, #bfdbfe 55%, transparent 80%);
        opacity: 0.55;
        filter: blur(72px);
      "
    ></div>

    <!-- Lavender pool ‚Äî top center -->
    <div
      class="absolute rounded-full"
      style="
        width: 480px; height: 420px;
        top: -60px; left: 30%;
        background: radial-gradient(ellipse, #c4b5f4 0%, #ddd6fe 60%, transparent 85%);
        opacity: 0.60;
        filter: blur(80px);
      "
    ></div>

    <!-- Pink pool ‚Äî top right -->
    <div
      class="absolute rounded-full"
      style="
        width: 500px; height: 460px;
        top: -80px; right: -80px;
        background: radial-gradient(ellipse, #f9a8d4 0%, #fce7f3 60%, transparent 85%);
        opacity: 0.55;
        filter: blur(70px);
      "
    ></div>

    <!-- Rose pool ‚Äî center right -->
    <div
      class="absolute rounded-full"
      style="
        width: 380px; height: 340px;
        top: 35%; right: 5%;
        background: radial-gradient(ellipse, #fda4af 0%, #fecdd3 60%, transparent 85%);
        opacity: 0.40;
        filter: blur(65px);
      "
    ></div>

    <!-- Lilac pool ‚Äî bottom left -->
    <div
      class="absolute rounded-full"
      style="
        width: 420px; height: 380px;
        bottom: -60px; left: -60px;
        background: radial-gradient(ellipse, #ddd6fe 0%, #ede9fe 60%, transparent 85%);
        opacity: 0.50;
        filter: blur(75px);
      "
    ></div>

    <!-- Blush pool ‚Äî bottom center -->
    <div
      class="absolute rounded-full"
      style="
        width: 360px; height: 320px;
        bottom: -40px; left: 35%;
        background: radial-gradient(ellipse, #f9a8d4 0%, #fce7f3 65%, transparent 85%);
        opacity: 0.38;
        filter: blur(68px);
      "
    ></div>

    <!-- Paper grain overlay -->
    <div
      class="absolute inset-0"
      style="
        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E\");
        opacity: 0.35;
        mix-blend-mode: multiply;
      "
    ></div>
  </div>

  <div class="container relative mx-auto px-4">
    <div class="flex flex-col items-center gap-10 md:flex-row md:gap-12 lg:gap-20">

      <!-- Left: Text Content -->
      <div class="flex-1 text-center md:text-left animate-fade-in-up">

        <!-- Badge -->
        <div
          class="mb-5 inline-flex items-center gap-2 rounded-full px-4 py-1.5 text-sm font-semibold"
          style="background: var(--color-purple-light); color: var(--color-purple-dark);"
        >
          ‚ú® Handmade with love ¬∑ Made in Rom√¢nia
        </div>

        <!-- Title -->
        <h1
          class="mb-3 text-4xl font-bold md:text-5xl lg:text-6xl"
          style="font-family: var(--font-heading); color: var(--color-espresso);"
        >
          {siteConfig.name}
        </h1>

        <!-- Tagline -->
        <p
          class="mb-4 text-2xl md:text-3xl"
          style="font-family: var(--font-accent); color: var(--color-purple);"
        >
          {t("hero.tagline")}
        </p>

        <!-- Subtitle -->
        <p class="mx-auto mb-8 max-w-lg text-base md:mx-0 md:text-lg" style="color: var(--text-secondary);">
          {t("hero.subtitle")}
        </p>

        <!-- CTAs -->
        <div class="flex flex-wrap items-center justify-center gap-4 md:justify-start">
          <Button
            href={lang === "en" ? "/en/products" : "/produse"}
            variant="primary"
            size="lg"
          >
            {t("hero.cta.products")}
          </Button>
          <Button
            href={lang === "en" ? "/en/my-story" : "/povestea-mea"}
            variant="outline"
            size="lg"
          >
            {t("hero.cta.story")}
          </Button>
        </div>

        <!-- Trust badges -->
        <div
          class="mt-10 flex flex-wrap items-center justify-center gap-6 md:justify-start"
        >
          <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--text-muted);">
            <span
              class="flex h-8 w-8 items-center justify-center rounded-full text-base"
              style="background: var(--color-purple-light);"
            >üé®</span>
            100% Handmade
          </div>
          <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--text-muted);">
            <span
              class="flex h-8 w-8 items-center justify-center rounded-full text-base"
              style="background: var(--color-blush);"
            >‚úèÔ∏è</span>
            Pe comandƒÉ
          </div>
          <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--text-muted);">
            <span
              class="flex h-8 w-8 items-center justify-center rounded-full text-base"
              style="background: var(--color-purple-light);"
            >üíú</span>
            Cu drag & suflet
          </div>
        </div>
      </div>

      <!-- Right: Artist image -->
      <div class="flex flex-1 items-center justify-center animate-fade-in">
        <div class="relative">
          <!-- Glow ring behind image -->
          <div
            class="absolute inset-0 scale-105 rounded-3xl opacity-40 blur-2xl"
            style="background: linear-gradient(135deg, var(--color-purple), var(--color-pink));"
            aria-hidden="true"
          ></div>
          <!-- Decorative dot pattern -->
          <div
            class="absolute -top-4 -right-4 h-24 w-24 rounded-full opacity-30"
            style="background: radial-gradient(circle, var(--color-pink) 1.5px, transparent 1.5px) 0 0 / 10px 10px;"
            aria-hidden="true"
          ></div>
          <div
            class="absolute -bottom-4 -left-4 h-24 w-24 rounded-full opacity-30"
            style="background: radial-gradient(circle, var(--color-purple) 1.5px, transparent 1.5px) 0 0 / 10px 10px;"
            aria-hidden="true"
          ></div>

          <Image
            src={heroImage}
            alt="Creatoarea The Gifted Piggy lucr√¢nd la crea»õii handmade din lut"
            width={520}
            height={520}
            class="relative rounded-3xl object-cover"
            style="box-shadow: 0 20px 60px rgba(126, 91, 206, 0.25);"
            loading="eager"
            fetchpriority="high"
            format="webp"
            quality={85}
          />
        </div>
      </div>

    </div>
  </div>
</section>
