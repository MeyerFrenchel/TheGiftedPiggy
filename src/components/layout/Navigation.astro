---
import { navItems } from "@data/navigation";
import { useTranslations } from "@i18n/utils";
import type { Lang } from "@i18n/ui";

interface Props {
  lang: Lang;
  currentPath?: string;
}

const { lang, currentPath = "/" } = Astro.props;
const t = useTranslations(lang);
---

<nav aria-label="Main navigation">
  <ul class="flex items-center gap-6" role="list">
    {
      navItems.map((item) => {
        const href = item.href[lang];
        const isActive =
          href === "/"
            ? currentPath === "/" || currentPath === "/en/"
            : currentPath.startsWith(href);
        return (
          <li>
            <a
              href={href}
              class:list={[
                "relative py-1 text-lg font-bold tracking-wide transition-colors",
                "after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-full after:origin-left after:scale-x-0 after:bg-terracotta after:transition-transform after:duration-300",
                "hover:text-terracotta hover:after:scale-x-100",
                isActive
                  ? "text-terracotta after:scale-x-100"
                  : "text-secondary",
              ]}
              aria-current={isActive ? "page" : undefined}
            >
              {t(item.labelKey)}
            </a>
          </li>
        );
      })
    }
  </ul>
</nav>
