---
import Navigation from "./Navigation.astro";
import ThemeToggle from "@components/ui/ThemeToggle";
import LanguageSwitcher from "@components/ui/LanguageSwitcher";
import MobileMenu from "./MobileMenu";
import { siteConfig } from "@data/site-config";
import type { Lang } from "@i18n/ui";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const currentPath = Astro.url.pathname;
---

<header
  class="nav-bg sticky top-0 z-50 border-b border-theme backdrop-blur-sm"
  id="site-header"
>
  <div class="container mx-auto flex items-center justify-between px-4 py-4">
    <!-- Logo -->
    <a
      href={lang === "en" ? "/en/" : "/"}
      class="flex items-center gap-2 text-xl font-bold text-primary transition-opacity hover:opacity-80"
      style="font-family: var(--font-heading);"
      aria-label={siteConfig.name}
    >
      <span class="text-terracotta">üê∑</span>
      <span>{siteConfig.name}</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden items-center gap-6 md:flex">
      <Navigation {lang} {currentPath} />
      <div class="flex items-center gap-2">
        <ThemeToggle client:load />
        <LanguageSwitcher lang={lang} currentPath={currentPath} client:load />
      </div>
    </div>

    <!-- Mobile: Theme + Language + Hamburger -->
    <div class="flex items-center gap-2 md:hidden">
      <ThemeToggle client:load />
      <LanguageSwitcher lang={lang} currentPath={currentPath} client:load />
      <MobileMenu lang={lang} currentPath={currentPath} client:load />
    </div>
  </div>
</header>
